[github](https://github.com/donnemartin/system-design-primer)
# topics
### review
- performance vs scalability
	- scalable: performance is increased in the manner proportional to resources added -> serving more units of work
	- problems
		- performance: slow for single user
		- scalability: fast for single user, but slow under heavy load
- latency vs throughput
	- latency: the time to perform action to get result
	- througput: the number of actions performed per unit of time
	-> maximum throughput with acceptance latency
- availability vs consistency
	- CAP theorem
		- consistency: all clients see same data at the same time, no matter which server is connected
		- availability: able to get data when one or more servers (not all) are down
		- partition tolerance: the system continues to operate despite network partition (some of network's components are disconnected)
	-> network is not reliable, have to support network partitioning -> select between
		- CP: consistency & partition tolerance
			- waiting for a response from partitioned node may cause timeout error -> business requires atomic read/write
		- AP: availability & partition tolerance
			- return most reliable data (might not be latest). write operations may need time to propagate when the partition is resolved -> business requires eventual consistency or have to continue working despite errors
	- consistency patterns
		- sync multiple copies of data to make clients have a consistent view of data
		- weak consistency
			- after a write, read operations may/maynot see it, works well in real-time use cases
			- seen in systems such as memcached
		- eventual consistency
			- after a write, all read operations will **eventually** see it -> data is replicated asynchronously, works well on high availability systems
			- seen in systems such as mail, ...
		- strong consistency
			- after a write, all read operations will see it -> data is replicated synchronously
			- seen in systems such as file systems and RDBMs (systems require transaction)
	- availability patterns
		- failover
			- active-active
				- multiple instances of application are running and serving clients' requests simultaneously -> provide high availability and scalability, allow system to distribute workload to all servers
				- provides redundant resources and failover capability -> the system continues working even if one or more servers are down
			- active-passive
				- one instance of application is running (active) and other instances are idle (passive) -> provide failover capability and efficient resource utilization (but high latency during failover)
				- simplicity and cost-effective
		- replication
- domain name system (DNS)
	- hierarchical system, with some authoritative servers -> ip lookup
- content delivery network (CDN)
	- global distributed network of proxy servers -> serving contents from locations closer to user for static or multimedia files
	- 2 types
		- push cdn: receive new content when changes are made on server -> full responsibility for providing content, upload and rewrite url
		- pull cdn: grab new content when the first user requests them -> may delay request, create redundant traffic
- load balancer & reverse proxy
	- distribute incomming requests to computing resources, and return responses to clients
	- prevent requests comming to unhealty resources, overloading resources, ssl termination and keep session persistence (session affinity)
	- support horizontal scaling (usually managed by cloud provider)
	- load balancer can be a bottleneck in system if it's not well designed
	- 2 types of load balancer
		- L4 (network load balancer) -> for UDP/TCP/... -> for gateway
		- L7 (application load balancer) -> for HTTP/HTTPs, support SSL natively -> for business services
	- reverse proxy is internal service to provide unifined interface to public (hide servers from client) -> increase complexity of system
	- load balancer is more efficient than reverse proxy if having multiple servers
- database
	- relational database
	- nosql
	- cache
- asynchronism
	- message queue
- networking
	- TCP
	- UDP
	- HTTP
	- REST
	- RPC